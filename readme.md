# EC2 Instance Stopper

This just stops all EC2 instances which do not have a key the key `preserve` set.
The final cloud formation file is generated by a python program, this is beacuse the cloudformation file has the AWS lambda code embeded within it.

## Setup to use

1.  Run `test.py` to ensure that the code works as intended
    1.  if it produces an error submit an issue
2.  Run `newgen.py` to get a new cloudformation file.
    1.  Currently it is set to run the ec2 instance stopper at 11 o'clock local time. The variable cron is resposible for this and can be changed to better fit your needs.
    2.  `template.json` is responsible for the pattern of the cloudforamtion file.
3.  After you have run the newgen.py you will have a file called `cloudformgened.json`. This can be used with cloudformation to launch ec2 stopper
4.  On your aws console open the cloudformation section and use the file `cloudformgened.json` to lanuch ec2 instance stopper